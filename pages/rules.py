# rules.py - 가맹점 기반 자동 카테고리 분류 규칙

def guess_category(store: str) -> str:
    store = store.strip().lower()

    keywords = {
        "편의점": ["cu", "씨유", "gs25", "세븐일레븐", "emart24"],
        "카페": ["스타벅스", "투썸", "이디야", "커피", "카페"],
        "식비": ["곰탕", "국밥", "김밥", "식당", "피자", "치킨", "족발", "고기", "돈까스", "햄버거", "버거", "냉면", "떡볶이", "분식", "한솥", "도시락", "BBQ"],
        "의료": ["병원", "의원", "약국", "치과", "한의원"],
        "통신": ["kt", "sk", "lg", "인터넷", "휴대폰", "통신"],
        "쇼핑": ["네이버", "카카오", "g마켓", "옥션", "쿠팡", "temu", "지마켓", "11번가", "현대백화점", "무신사"],
        "주유": ["주유", "셀프", "gs칼텍스", "에쓰오일", "s-oil", "sk에너지", "sk주유소"],
        "교통": ["대중교통", "버스", "지하철", "택시", "티머니", "파킹", "주차", "하이패스", "카카오모빌리티"],
        "문화": ["영화", "메가박스", "CGV", "롯데시네마", "인터파크", "예매", "공연"],
        "건강/운동": ["헬스", "휘트니스", "요가", "필라테스", "사우나"],
        "전자/가전": ["전자", "디지털", "lg전자", "삼성전자", "애플", "apple"],
        "생활": ["마트", "이마트", "홈플러스", "롯데마트", "다이소"],
        "자동차": ["오토", "정비", "세차", "카센터", "타이어", "엔진오일"],
        "기타": []
    }

    for category, words in keywords.items():
        for word in words:
            if word in store:
                return category

    return "기타"
